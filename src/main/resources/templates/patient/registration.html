<!DOCTYPE html>
<html lang="pl" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!-- Bootstrap CSS-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
          crossorigin="anonymous">

    <!-- Custom CSS-->
    <link rel="stylesheet" th:href="@{/css/common-style.css}">

    <style>
        h2 {
            font-size: 2rem;
        }

        hr {
            background-color: #838383;
        }

        .address-label {
            font-size: 0.8rem;
        }
    </style>

    <title>MedicaPlus - Home</title>
</head>
<body style="background-color: #f2f2f2;">

<nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #027373">
    <div class="container" style="padding: 0 15%">
        <a class="navbar-brand" style="color: #F2E7DC;" th:href=" @{/registration}"><h3>MedicaPlus</h3></a>
    </div>
</nav>
<div class="container main-content">
    <form class="needs-validation"
          novalidate
          action="#"
          th:object="${registration}"
          th:action="@{/patient/create-patient}">
        <div class="tab-content">
            <div class="tab-pane fade show active" id="first-tab">
                <div class="text-center"><h2>Rejestracja - krok 1</h2></div>
                <hr>

                <!-- Personal data -->
                <div class="text-start px-4">
                    <h4>Dane osobowe:</h4>
                </div>
                <div class="row px-4 py-2">
                    <!-- First name -->
                    <div class="col-5">
                        <div class="form-floating">
                            <input class="form-control"
                                   id="first-name"
                                   placeholder="Imię"
                                   th:field="*{patient.firstName}"
                                   required>
                            <label for="first-name" class="form-label">
                                Imię:
                            </label>
                            <div class="invalid-feedback">
                                To pole nie może być puste
                            </div>
                        </div>
                    </div>
                    <!-- Last name -->
                    <div class="col-5">
                        <div class="form-floating">
                            <input class="form-control"
                                   id="last-name"
                                   placeholder="Nazwisko"
                                   th:field="*{patient.lastName}"
                                   required>
                            <label for="last-name" class="form-label">
                                Nazwisko:
                            </label>
                            <div class="invalid-feedback">
                                To pole nie może być puste
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row px-4 py-2">
                    <!-- Phone number -->
                    <div class="col-5">
                        <label for="phone-number" class="from-label">
                            Numer telefonu
                        </label>
                        <input class="form-control"
                               id="phone-number"
                               th:field="*{patient.phoneNumber}"
                               required>
                        <div class="invalid-feedback">
                            To pole nie może być puste
                        </div>
                    </div>
                    <!-- PESEL -->
                    <div class="col-5">
                        <label for="pesel" class="from-label">
                            PESEL
                        </label>
                        <input class="form-control"
                               id="pesel"
                               th:field="*{patient.pesel}"
                               required>
                        <div class="invalid-feedback">
                            To pole nie może być puste
                        </div>
                    </div>
                </div>
                <hr>
                <!-- Address -->
                <div class="text-start px-4">
                    <h4>Adres:</h4>
                </div>
                <!-- City -->
                <div class="row px-4 py-2">
                    <div class="col-6">
                        <div class="input-group">
                            <input id="city-input"
                                   type="text"
                                   class="form-control"
                                   placeholder="Miasto"
                                   oninput="getCityOptions(this.value);"
                                   th:field="*{patient.address.city}"
                                   required>
                            <button class="btn btn-outline-secondary dropdown-toggle"
                                    type="button"
                                    data-bs-toggle="dropdown"
                                    aria-expanded="true"></button>
                            <ul id="city-options" class="dropdown-menu dropdown-menu-end w-100"
                                aria-labelledby="dropdownMenuButton">
                            </ul>
                        </div>
                        <div class="invalid-feedback">
                            To pole nie może być puste
                        </div>
                    </div>
                </div>
                <!-- Street -->
                <div class="row px-4 py-2">
                    <div class="col-6">
                        <input id="street-input"
                               class="form-control"
                               placeholder="Ulica"
                               th:field="*{patient.address.street}"
                               required>
                        <div class="invalid-feedback">
                            To pole nie może być puste
                        </div>
                    </div>
                </div>

                <div class="row px-4 py-2">
                    <!-- Building number -->
                    <div class="col-2">
                        <label for="building-number" class="form-label address-label">
                            Nr domu:
                        </label>
                        <input id="building-number"
                               class="form-control"
                               placeholder="11/2"
                               th:field="*{patient.address.buildingNumber}"
                               required>
                        <div class="invalid-feedback">
                            To pole nie może być puste
                        </div>
                    </div>
                    <!-- Flat number -->
                    <div class="col-2">
                        <label for="flat-number" class="form-label address-label">
                            Nr lokalu:
                        </label>
                        <input id="flat-number"
                               class="form-control"
                               placeholder="33A"
                               th:field="*{patient.address.flatNumber}">
                        <div class="invalid-feedback">
                            To pole nie może być puste
                        </div>
                    </div>
                    <!-- Postal code -->
                    <div class="col-2">
                        <label for="postal-code" class="form-label address-label">
                            Kod pocztowy:
                        </label>
                        <input id="postal-code"
                               class="form-control"
                               placeholder="44-555"
                               th:field="*{patient.address.postalCode}"
                               required>
                        <div class="invalid-feedback">
                            To pole nie może być puste
                        </div>
                    </div>
                </div>
                <div class="row px-4 py-4 d-flex justify-content-center">
                    <div class="col-2">
                        <button class="btn btn-primary" id="button" type="button" data-bs-toggle="tab"
                                data-bs-target="#second-tab" role="tab">Potwierdz
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="tab-pane fade" id="second-tab" role="tabpanel" aria-labelledby="profile-tab" tabindex="0">
            Second pane
        </div>
    </form>
</div>


<!-- Bootstrap JS-->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
        integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V"
        crossorigin="anonymous"></script>

<!-- Custom JS-->
<script th:src="@{/js/registration-script.js}"></script>
<script th:src="@{/js/city-options-handler.js}"></script>

</body>
</html>